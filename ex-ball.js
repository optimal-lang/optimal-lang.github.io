/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "public";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/ex-ball.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/code2ary.ts":
/*!*************************!*\
  !*** ./src/code2ary.ts ***!
  \*************************/
/*! exports provided: code2ary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"code2ary\", function() { return code2ary; });\nfunction tokenize_regexp() {\r\n    return /[\\s,]*([()\\[\\]'`]|\"(?:\\\\.|[^\\\\\"])*\"|@(?:@@|[^@])*@|;.*|[^\\s,()\\[\\]'\"`;@]*)/g;\r\n    //return new RegExp(\"[\\\\s,]*([()\\\\[\\\\]'`]|\\\"(?:\\\\\\\\.|[^\\\\\\\\\\\"])*\\\"|@(?:@@|[^@])*@|;.*|[^\\\\s,()\\\\[\\\\]'\\\"`;@]*)\", \"g\");\r\n}\r\nfunction tokenize(str) {\r\n    let re = tokenize_regexp();\r\n    let result = [];\r\n    let token;\r\n    while ((token = re.exec(str)[1]) !== \"\") {\r\n        if (token[0] === \";\")\r\n            continue;\r\n        result.push(token);\r\n    }\r\n    return result;\r\n}\r\nfunction read_token(code, exp) {\r\n    if (code.length === 0)\r\n        return undefined;\r\n    let token = code.shift();\r\n    exp.push(token);\r\n    return token;\r\n}\r\nfunction read_list(code, exp, ch) {\r\n    let result = [];\r\n    let ast;\r\n    while ((ast = read_sexp(code, exp)) !== undefined) {\r\n        if (ast === \"]\") {\r\n            if (ch !== \"[\")\r\n                code.unshift(\"]\");\r\n            break;\r\n        }\r\n        else if (ast === \")\") {\r\n            break;\r\n        }\r\n        result.push(ast);\r\n    }\r\n    return result;\r\n}\r\nfunction read_sexp(code, exp) {\r\n    let token = read_token(code, exp);\r\n    if (token === undefined)\r\n        return undefined;\r\n    let ch = token[0];\r\n    switch (ch) {\r\n        case \"(\":\r\n        case \"[\":\r\n            let lst = read_list(code, exp, ch);\r\n            return lst;\r\n        case \")\":\r\n        case \"]\":\r\n            return ch;\r\n        case \"'\":\r\n            let ast = read_sexp(code, exp);\r\n            return [\"`\", ast];\r\n        case '\"':\r\n            token = JSON.parse(token);\r\n            return [\"`\", token];\r\n        case \"@\":\r\n            token = token.replace(/(^@|@$)/g, \"\");\r\n            token = token.replace(/(@@)/g, \"@\");\r\n            return [\"@\", token];\r\n        case \"#\":\r\n            return token;\r\n        default:\r\n            //if (isFinite(token)) return [\"@\", token];\r\n            return token;\r\n    }\r\n}\r\nfunction join_sexp(exp) {\r\n    if (exp.length === 0)\r\n        return \"\";\r\n    let last = exp.shift();\r\n    let result = \"\" + last;\r\n    while (exp.length > 0) {\r\n        let token = exp.shift();\r\n        if (token !== \")\" &&\r\n            token !== \"]\" &&\r\n            last !== \"(\" &&\r\n            last !== \"[\" &&\r\n            last !== \"'\")\r\n            result += \" \";\r\n        if (token === \"[\")\r\n            token = \"(\";\r\n        if (token === \"]\")\r\n            token = \")\";\r\n        result += token;\r\n        last = token;\r\n    }\r\n    return result;\r\n}\r\nfunction code2ary(text) {\r\n    let code = tokenize(text);\r\n    let result = [];\r\n    while (true) {\r\n        let exp = [];\r\n        let ast = read_sexp(code, exp);\r\n        if (ast === undefined)\r\n            break;\r\n        if (ast === \")\")\r\n            continue;\r\n        if (ast === \"]\")\r\n            continue;\r\n        result.push([join_sexp(exp), ast]);\r\n    }\r\n    return result;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29kZTJhcnkudHM/MTU0MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsU0FBUyxlQUFlO0lBQ3RCLE9BQU8sNkVBQTZFLENBQUM7SUFDckYscUhBQXFIO0FBQ3ZILENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFXO0lBQzNCLElBQUksRUFBRSxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBQzNCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNoQixJQUFJLEtBQUssQ0FBQztJQUNWLE9BQU8sQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUN4QyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO1lBQUUsU0FBUztRQUMvQixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3BCO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLElBQW1CLEVBQUUsR0FBa0I7SUFDekQsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUM7UUFBRSxPQUFPLFNBQVMsQ0FBQztJQUN4QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDekIsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFNLENBQUMsQ0FBQztJQUNqQixPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRCxTQUFTLFNBQVMsQ0FDaEIsSUFBbUIsRUFDbkIsR0FBa0IsRUFDbEIsRUFBVTtJQUVWLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNoQixJQUFJLEdBQUcsQ0FBQztJQUNSLE9BQU8sQ0FBQyxHQUFHLEdBQUcsU0FBUyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLFNBQVMsRUFBRTtRQUNqRCxJQUFJLEdBQUcsS0FBSyxHQUFH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RUFBRSxDQUFDO1FBQzVCLElBQUksR0FBRyxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDL0IsSUFBSSxHQUFHLEtBQUssU0FBUztZQUFFLE1BQU07UUFDN0IsSUFBSSxHQUFHLEtBQUssR0FBRztZQUFFLFNBQVM7UUFDMUIsSUFBSSxHQUFHLEtBQUssR0FBRztZQUFFLFNBQVM7UUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ3BDO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyIsImZpbGUiOiIuL3NyYy9jb2RlMmFyeS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHRva2VuaXplX3JlZ2V4cCgpIHtcbiAgcmV0dXJuIC9bXFxzLF0qKFsoKVxcW1xcXSdgXXxcIig/OlxcXFwufFteXFxcXFwiXSkqXCJ8QCg/OkBAfFteQF0pKkB8Oy4qfFteXFxzLCgpXFxbXFxdJ1wiYDtAXSopL2c7XG4gIC8vcmV0dXJuIG5ldyBSZWdFeHAoXCJbXFxcXHMsXSooWygpXFxcXFtcXFxcXSdgXXxcXFwiKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqXFxcInxAKD86QEB8W15AXSkqQHw7Lip8W15cXFxccywoKVxcXFxbXFxcXF0nXFxcImA7QF0qKVwiLCBcImdcIik7XG59XG5cbmZ1bmN0aW9uIHRva2VuaXplKHN0cjogc3RyaW5nKSB7XG4gIGxldCByZSA9IHRva2VuaXplX3JlZ2V4cCgpO1xuICBsZXQgcmVzdWx0ID0gW107XG4gIGxldCB0b2tlbjtcbiAgd2hpbGUgKCh0b2tlbiA9IHJlLmV4ZWMoc3RyKSFbMV0pICE9PSBcIlwiKSB7XG4gICAgaWYgKHRva2VuWzBdID09PSBcIjtcIikgY29udGludWU7XG4gICAgcmVzdWx0LnB1c2godG9rZW4pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHJlYWRfdG9rZW4oY29kZTogQXJyYXk8c3RyaW5nPiwgZXhwOiBBcnJheTxzdHJpbmc+KSB7XG4gIGlmIChjb2RlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgbGV0IHRva2VuID0gY29kZS5zaGlmdCgpO1xuICBleHAucHVzaCh0b2tlbiEpO1xuICByZXR1cm4gdG9rZW47XG59XG5cbmZ1bmN0aW9uIHJlYWRfbGlzdChcbiAgY29kZTogQXJyYXk8c3RyaW5nPixcbiAgZXhwOiBBcnJheTxzdHJpbmc+LFxuICBjaDogc3RyaW5nXG4pOiBBcnJheTxhbnk+IHtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuICBsZXQgYXN0O1xuICB3aGlsZSAoKGFzdCA9IHJlYWRfc2V4cChjb2RlLCBleHApKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGFzdCA9PT0gXCJdXCIpIHtcbiAgICAgIGlmIChjaCAhPT0gXCJbXCIpIGNvZGUudW5zaGlmdChcIl1cIik7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2UgaWYgKGFzdCA9PT0gXCIpXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXN1bHQucHVzaChhc3QpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHJlYWRfc2V4cChjb2RlOiBBcnJheTxzdHJpbmc+LCBleHA6IEFycmF5PHN0cmluZz4pOiBhbnkge1xuICBsZXQgdG9rZW4gPSByZWFkX3Rva2VuKGNvZGUsIGV4cCk7XG4gIGlmICh0b2tlbiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuICBsZXQgY2ggPSB0b2tlblswXTtcbiAgc3dpdGNoIChjaCkge1xuICAgIGNhc2UgXCIoXCI6XG4gICAgY2FzZSBcIltcIjpcbiAgICAgIGxldCBsc3QgPSByZWFkX2xpc3QoY29kZSwgZXhwLCBjaCk7XG4gICAgICByZXR1cm4gbHN0O1xuICAgIGNhc2UgXCIpXCI6XG4gICAgY2FzZSBcIl1cIjpcbiAgICAgIHJldHVybiBjaDtcbiAgICBjYXNlIFwiJ1wiOlxuICAgICAgbGV0IGFzdCA9IHJlYWRfc2V4cChjb2RlLCBleHApO1xuICAgICAgcmV0dXJuIFtcImBcIiwgYXN0XTtcbiAgICBjYXNlICdcIic6XG4gICAgICB0b2tlbiA9IEpTT04ucGFyc2UodG9rZW4pO1xuICAgICAgcmV0dXJuIFtcImBcIiwgdG9rZW5dO1xuICAgIGNhc2UgXCJAXCI6XG4gICAgICB0b2tlbiA9IHRva2VuLnJlcGxhY2UoLyheQHxAJCkvZywgXCJcIik7XG4gICAgICB0b2tlbiA9IHRva2VuLnJlcGxhY2UoLyhAQCkvZywgXCJAXCIpO1xuICAgICAgcmV0dXJuIFtcIkBcIiwgdG9rZW5dO1xuICAgIGNhc2UgXCIjXCI6XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vaWYgKGlzRmluaXRlKHRva2VuKSkgcmV0dXJuIFtcIkBcIiwgdG9rZW5dO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICB9XG59XG5cbmZ1bmN0aW9uIGpvaW5fc2V4cChleHA6IEFycmF5PHN0cmluZz4pIHtcbiAgaWYgKGV4cC5sZW5ndGggPT09IDApIHJldHVybiBcIlwiO1xuICBsZXQgbGFzdCA9IGV4cC5zaGlmdCgpO1xuICBsZXQgcmVzdWx0ID0gXCJcIiArIGxhc3Q7XG4gIHdoaWxlIChleHAubGVuZ3RoID4gMCkge1xuICAgIGxldCB0b2tlbiA9IGV4cC5zaGlmdCgpO1xuICAgIGlmIChcbiAgICAgIHRva2VuICE9PSBcIilcIiAmJlxuICAgICAgdG9rZW4gIT09IFwiXVwiICYmXG4gICAgICBsYXN0ICE9PSBcIihcIiAmJlxuICAgICAgbGFzdCAhPT0gXCJbXCIgJiZcbiAgICAgIGxhc3QgIT09IFwiJ1wiXG4gICAgKVxuICAgICAgcmVzdWx0ICs9IFwiIFwiO1xuICAgIGlmICh0b2tlbiA9PT0gXCJbXCIpIHRva2VuID0gXCIoXCI7XG4gICAgaWYgKHRva2VuID09PSBcIl1cIikgdG9rZW4gPSBcIilcIjtcbiAgICByZXN1bHQgKz0gdG9rZW47XG4gICAgbGFzdCA9IHRva2VuO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2RlMmFyeSh0ZXh0OiBzdHJpbmcpIHtcbiAgbGV0IGNvZGUgPSB0b2tlbml6ZSh0ZXh0KTtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGxldCBleHA6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICBsZXQgYXN0ID0gcmVhZF9zZXhwKGNvZGUsIGV4cCk7XG4gICAgaWYgKGFzdCA9PT0gdW5kZWZpbmVkKSBicmVhaztcbiAgICBpZiAoYXN0ID09PSBcIilcIikgY29udGludWU7XG4gICAgaWYgKGFzdCA9PT0gXCJdXCIpIGNvbnRpbnVlO1xuICAgIHJlc3VsdC5wdXNoKFtqb2luX3NleHAoZXhwKSwgYXN0XSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/code2ary.ts\n");

/***/ }),

/***/ "./src/ex-ball.ts":
/*!************************!*\
  !*** ./src/ex-ball.ts ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _optiMAL2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./optiMAL2 */ \"./src/optiMAL2.ts\");\n\r\nvar glob = Object(_optiMAL2__WEBPACK_IMPORTED_MODULE_0__[\"optiMAL\"])(window);\r\nglob.runAll(`\n(define w 1024)\n(define h 768)\n(define starCount 2500)\n;(define sx (+ 1.0 (/ @Math.random()@ 20]\n;(define sy (+ 1.0 (/ @Math.random()@ 20]\n(define sx 1.0445291344952077)\n(define sy 1.037120924078791)\n(define slideX (/ w 2]\n(define slideY (/ h 2]\n(define stars @[]@)\n(define renderer)\n(define stage)\n(define (start)\n  (let [(ballTexture @new PIXI.Texture.fromImage(\"bubble_32x32.png\")@)]\n    (set renderer (@PIXI.autoDetectRenderer@ w h))\n    (set stage @new PIXI.Stage@)\n    (document.body.appendChild renderer.view)\n    [dotimes (i starCount)\n      (let [(tempBall @new PIXI.Sprite(ballTexture)@]\n        @tempBall.position.x = (Math.random() * w) - slideX@\n        @tempBall.position.y = (Math.random() * h) - slideY@\n        @tempBall.anchor.x = 0.5@\n        @tempBall.anchor.y = 0.5@\n        @stars.push({ sprite: tempBall, x: tempBall.position.x, y: tempBall.position.y })@\n        @stage.addChild(tempBall)@]\n    @document.getElementById('rnd').onclick = newWave@\n    @document.getElementById('sx').innerHTML = 'SX: ' + sx + '<br />SY: ' + sy@\n    (resize)\n    (requestAnimFrame update)]\n(define (newWave)\n  @sx = 1.0 + (Math.random() / 20)@\n  @sy = 1.0 + (Math.random() / 20)@\n  @$('#sx').html('SX: ' + sx + '<br />SY: ' + sy)@\n  ;@document.getElementById('sx').innerHTML = 'SX: ' + sx + '<br />SY: ' + sy@\n  ]\n(define (resize)\n  (let* ([w (- @$(window).width()@ 32]\n         [h (- @$(window).height()@ 132]\n         [slideX (/ w 2]\n         [slideY (/ h 2])\n    (renderer.resize w h)]\n(define (update)\n  (dotimes (i starCount)\n    (set @stars[i].sprite.position.x@ (+ @stars[i].x@ slideX))\n    (set @stars[i].sprite.position.y@ (+ @stars[i].y@ slideY))\n    (set @stars[i].x@ (* @stars[i].x@ sx))\n    (set @stars[i].y@ (* @stars[i].y@ sy))\n    (cond\n      [(> @stars[i].x@ w) (set @stars[i].x@ (- @stars[i].x@ w))]\n      [(< @stars[i].x@ (* -1 w)) (set @stars[i].x@ (+ @stars[i].x@ w))])\n    (cond\n      [(> @stars[i].y@ h) (set @stars[i].y@ (- @stars[i].y@ h))]\n      [(< @stars[i].y@ (* -1 h)) (set @stars[i].y@ (+ @stars[i].y@ h))])\n   )\n  (renderer.render stage)\n  (requestAnimFrame update)]\n(@$(window).resize@ resize)\n(set window.onorientationchange resize)\n(document.addEventListener \"DOMContentLoaded\", start, #false)\n`); // glob.RUN(\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZXgtYmFsbC50cz8zZmUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBcUM7QUFDckMsSUFBSSxJQUFJLEdBQUcseURBQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQixJQUFJLENBQUMsTUFBTSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0RFgsQ0FBQyxDQUFDLENBQUMsWUFBWSIsImZpbGUiOiIuL3NyYy9leC1iYWxsLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgb3B0aU1BTCB9IGZyb20gXCIuL29wdGlNQUwyXCI7XG52YXIgZ2xvYiA9IG9wdGlNQUwod2luZG93KTtcbmdsb2IucnVuQWxsKGBcbihkZWZpbmUgdyAxMDI0KVxuKGRlZmluZSBoIDc2OClcbihkZWZpbmUgc3RhckNvdW50IDI1MDApXG47KGRlZmluZSBzeCAoKyAxLjAgKC8gQE1hdGgucmFuZG9tKClAIDIwXVxuOyhkZWZpbmUgc3kgKCsgMS4wICgvIEBNYXRoLnJhbmRvbSgpQCAyMF1cbihkZWZpbmUgc3ggMS4wNDQ1MjkxMzQ0OTUyMDc3KVxuKGRlZmluZSBzeSAxLjAzNzEyMDkyNDA3ODc5MSlcbihkZWZpbmUgc2xpZGVYICgvIHcgMl1cbihkZWZpbmUgc2xpZGVZICgvIGggMl1cbihkZWZpbmUgc3RhcnMgQFtdQClcbihkZWZpbmUgcmVuZGVyZXIpXG4oZGVmaW5lIHN0YWdlKVxuKGRlZmluZSAoc3RhcnQpXG4gIChsZXQgWyhiYWxsVGV4dHVyZSBAbmV3IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoXCJidWJibGVfMzJ4MzIucG5nXCIpQCldXG4gICAgKHNldCByZW5kZXJlciAoQFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyQCB3IGgpKVxuICAgIChzZXQgc3RhZ2UgQG5ldyBQSVhJLlN0YWdlQClcbiAgICAoZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCByZW5kZXJlci52aWV3KVxuICAgIFtkb3RpbWVzIChpIHN0YXJDb3VudClcbiAgICAgIChsZXQgWyh0ZW1wQmFsbCBAbmV3IFBJWEkuU3ByaXRlKGJhbGxUZXh0dXJlKUBdXG4gICAgICAgIEB0ZW1wQmFsbC5wb3NpdGlvbi54ID0gKE1hdGgucmFuZG9tKCkgKiB3KSAtIHNsaWRlWEBcbiAgICAgICAgQHRlbXBCYWxsLnBvc2l0aW9uLnkgPSAoTWF0aC5yYW5kb20oKSAqIGgpIC0gc2xpZGVZQFxuICAgICAgICBAdGVtcEJhbGwuYW5jaG9yLnggPSAwLjVAXG4gICAgICAgIEB0ZW1wQmFsbC5hbmNob3IueSA9IDAuNUBcbiAgICAgICAgQHN0YXJzLnB1c2goeyBzcHJpdGU6IHRlbXBCYWxsLCB4OiB0ZW1wQmFsbC5wb3NpdGlvbi54LCB5OiB0ZW1wQmFsbC5wb3NpdGlvbi55IH0pQFxuICAgICAgICBAc3RhZ2UuYWRkQ2hpbGQodGVtcEJhbGwpQF1cbiAgICBAZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JuZCcpLm9uY2xpY2sgPSBuZXdXYXZlQFxuICAgIEBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3gnKS5pbm5lckhUTUwgPSAnU1g6ICcgKyBzeCArICc8YnIgLz5TWTogJyArIHN5QFxuICAgIChyZXNpemUpXG4gICAgKHJlcXVlc3RBbmltRnJhbWUgdXBkYXRlKV1cbihkZWZpbmUgKG5ld1dhdmUpXG4gIEBzeCA9IDEuMCArIChNYXRoLnJhbmRvbSgpIC8gMjApQFxuICBAc3kgPSAxLjAgKyAoTWF0aC5yYW5kb20oKSAvIDIwKUBcbiAgQCQoJyNzeCcpLmh0bWwoJ1NYOiAnICsgc3ggKyAnPGJyIC8+U1k6ICcgKyBzeSlAXG4gIDtAZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N4JykuaW5uZXJIVE1MID0gJ1NYOiAnICsgc3ggKyAnPGJyIC8+U1k6ICcgKyBzeUBcbiAgXVxuKGRlZmluZSAocmVzaXplKVxuICAobGV0KiAoW3cgKC0gQCQod2luZG93KS53aWR0aCgpQCAzMl1cbiAgICAgICAgIFtoICgtIEAkKHdpbmRvdykuaGVpZ2h0KClAIDEzMl1cbiAgICAgICAgIFtzbGlkZVggKC8gdyAyXVxuICAgICAgICAgW3NsaWRlWSAoLyBoIDJdKVxuICAgIChyZW5kZXJlci5yZXNpemUgdyBoKV1cbihkZWZpbmUgKHVwZGF0ZSlcbiAgKGRvdGltZXMgKGkgc3RhckNvdW50KVxuICAgIChzZXQgQHN0YXJzW2ldLnNwcml0ZS5wb3NpdGlvbi54QCAoKyBAc3RhcnNbaV0ueEAgc2xpZGVYKSlcbiAgICAoc2V0IEBzdGFyc1tpXS5zcHJpdGUucG9zaXRpb24ueUAgKCsgQHN0YXJzW2ldLnlAIHNsaWRlWSkpXG4gICAgKHNldCBAc3RhcnNbaV0ueEAgKCogQHN0YXJzW2ldLnhAIHN4KSlcbiAgICAoc2V0IEBzdGFyc1tpXS55QCAoKiBAc3RhcnNbaV0ueUAgc3kpKVxuICAgIChjb25kXG4gICAgICBbKD4gQHN0YXJzW2ldLnhAIHcpIChzZXQgQHN0YXJzW2ldLnhAICgtIEBzdGFyc1tpXS54QCB3KSldXG4gICAgICBbKDwgQHN0YXJzW2ldLnhAICgqIC0xIHcpKSAoc2V0IEBzdGFyc1tpXS54QCAoKyBAc3RhcnNbaV0ueEAgdykpXSlcbiAgICAoY29uZFxuICAgICAgWyg+IEBzdGFyc1tpXS55QCBoKSAoc2V0IEBzdGFyc1tpXS55QCAoLSBAc3RhcnNbaV0ueUAgaCkpXVxuICAgICAgWyg8IEBzdGFyc1tpXS55QCAoKiAtMSBoKSkgKHNldCBAc3RhcnNbaV0ueUAgKCsgQHN0YXJzW2ldLnlAIGgpKV0pXG4gICApXG4gIChyZW5kZXJlci5yZW5kZXIgc3RhZ2UpXG4gIChyZXF1ZXN0QW5pbUZyYW1lIHVwZGF0ZSldXG4oQCQod2luZG93KS5yZXNpemVAIHJlc2l6ZSlcbihzZXQgd2luZG93Lm9ub3JpZW50YXRpb25jaGFuZ2UgcmVzaXplKVxuKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgXCJET01Db250ZW50TG9hZGVkXCIsIHN0YXJ0LCAjZmFsc2UpXG5gKTsgLy8gZ2xvYi5SVU4oXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/ex-ball.ts\n");

/***/ }),

/***/ "./src/optiMAL2.ts":
/*!*************************!*\
  !*** ./src/optiMAL2.ts ***!
  \*************************/
/*! exports provided: optiMAL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"optiMAL\", function() { return optiMAL; });\n/* harmony import */ var _code2ary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./code2ary */ \"./src/code2ary.ts\");\n\r\nfunction compile_body(ast, start) {\r\n    if (start === ast.length - 1)\r\n        return compile_ast(ast[start]);\r\n    let result = \"(\";\r\n    for (let i = start; i < ast.length; i++) {\r\n        if (i > start)\r\n            result += \",\";\r\n        result += compile_ast(ast[i]);\r\n    }\r\n    return result + \")\";\r\n}\r\nfunction compile_ast(ast) {\r\n    if (ast === undefined)\r\n        return \"undefined\";\r\n    if (!ast) {\r\n        return JSON.stringify(ast);\r\n    }\r\n    if (typeof ast === \"string\") {\r\n        if (ast.match(/^:.+$/))\r\n            return JSON.stringify(ast);\r\n        if (ast.match(/^#.+$/)) {\r\n            switch (ast) {\r\n                case \"#null\":\r\n                case \"#nil\":\r\n                case \"#n\":\r\n                    return \"null\";\r\n                case \"#false\":\r\n                case \"#f\":\r\n                    return \"false\";\r\n                case \"#true\":\r\n                case \"#t\":\r\n                    return \"true\";\r\n                case \"#undefined\":\r\n                case \"#u\":\r\n                    return \"undefined\";\r\n                default:\r\n                    return ast;\r\n            }\r\n        }\r\n        return ast;\r\n    }\r\n    if (!(ast instanceof Array)) {\r\n        return ast.toString();\r\n    }\r\n    if (ast.length === 0)\r\n        return \"[]\"; //return ast;\r\n    switch (ast[0]) {\r\n        case \"`\":\r\n            return JSON.stringify(ast[1]);\r\n        case \"@\":\r\n            return ast[1];\r\n        case \"begin\":\r\n        case \"_do\":\r\n        case \"progn\":\r\n            return compile_body(ast, 1);\r\n        case \"case\": {\r\n            let result = \"(function(){switch(\" + compile_ast(ast[1]) + \"){\";\r\n            let rest = ast.slice(2);\r\n            rest.forEach((x) => {\r\n                let val = x[0];\r\n                switch (val) {\r\n                    case \":else\":\r\n                    case \"else\":\r\n                    case \"otherwise\":\r\n                    case \":otherwise\":\r\n                        result += \"default:\";\r\n                        break;\r\n                    default:\r\n                        if (val instanceof Array && val[0] === \"`\")\r\n                            val = val[1];\r\n                        result += \"case \" + JSON.stringify(val) + \":\";\r\n                }\r\n                let body = compile_body(x, 1);\r\n                result += \"return \" + body + \";\";\r\n            });\r\n            result += \"}return null})()\";\r\n            return result;\r\n        }\r\n        case \"_cond\": {\r\n            function _cond_builder(rest) {\r\n                if (rest.length === 0)\r\n                    return null;\r\n                let condition = rest.shift();\r\n                let action = rest.shift();\r\n                switch (condition) {\r\n                    case true:\r\n                    case \":else\":\r\n                    case \"else\":\r\n                    case \"otherwise\":\r\n                    case \":otherwise\":\r\n                        return action;\r\n                }\r\n                return [\"if\", condition, action, _cond_builder(rest)];\r\n            }\r\n            ast = _cond_builder(ast.slice(1));\r\n            return compile_ast(ast);\r\n        }\r\n        case \"cond\": {\r\n            let new_ast = [];\r\n            ast.slice(1).forEach((x) => {\r\n                new_ast.push(x[0]);\r\n                new_ast.push([\"_do\"].concat(x.slice(1)));\r\n            });\r\n            new_ast.unshift(\"_cond\");\r\n            return compile_ast(new_ast);\r\n        }\r\n        case \"dec!\":\r\n        case \"dec\":\r\n        case \"inc!\":\r\n        case \"inc\":\r\n            let sign = ast[0] === \"dec!\" || ast[0] === \"dec\" ? \"-\" : \"+\";\r\n            let val = ast.length < 3 ? 1 : compile_ast(ast[2]);\r\n            return compile_ast(ast[1]) + sign + \"=\" + val;\r\n        case \"def\":\r\n        case \"def!\": {\r\n            let v = ast[1];\r\n            return \"var \" + v + \"=\" + compile_ast(ast[2]);\r\n        }\r\n        case \"set!\": {\r\n            let v = ast[1];\r\n            return v + \"=\" + compile_ast(ast[2]);\r\n        }\r\n        case \"define\": {\r\n            if (ast[1] instanceof Array) {\r\n                let new_ast = ast.slice(2);\r\n                new_ast.unshift(ast[1].slice(1));\r\n                new_ast.unshift(\"fn\");\r\n                new_ast = [\"def\", ast[1][0], new_ast];\r\n                return compile_ast(new_ast);\r\n            }\r\n            else {\r\n                return compile_ast([\"def\", ast[1], ast[2]]);\r\n            }\r\n        }\r\n        case \"do\":\r\n        case \"do*\":\r\n            return compile_do(ast);\r\n        case \"fn\":\r\n        case \"fn*\":\r\n        case \"lambda\": {\r\n            let args = \"(\";\r\n            for (let i = 0; i < ast[1].length; i++) {\r\n                if (i > 0)\r\n                    args += \",\";\r\n                args += ast[1][i];\r\n            }\r\n            args += \")\";\r\n            if (ast.length < 3)\r\n                return \"function\" + args + \"{}\";\r\n            return \"function\" + args + \"{return \" + compile_body(ast, 2) + \"}\";\r\n        }\r\n        case \"dotimes\": {\r\n            let ast1 = ast[1];\r\n            if (ast1.length < 2)\r\n                ast1 = [\"__dotimes__\", ast1[0]];\r\n            let bind = [\r\n                [\"__dotimes_cnt__\", ast1[1]],\r\n                [\"__dotimes_idx__\", 0, [\"+\", \"__dotimes_idx__\", 1]],\r\n                [ast1[0], \"__dotimes_idx__\", \"__dotimes_idx__\"],\r\n            ];\r\n            let exit = [[\">=\", \"__dotimes_idx__\", \"__dotimes_cnt__\"]];\r\n            ast = [\"do*\", bind, exit].concat(ast.slice(2));\r\n            return compile_ast(ast);\r\n        }\r\n        case \"if\":\r\n            return (\"(\" +\r\n                compile_ast(ast[1]) +\r\n                \"?\" +\r\n                compile_ast(ast[2]) +\r\n                \":\" +\r\n                compile_body(ast, 3) +\r\n                \")\");\r\n        case \"let\":\r\n        case \"let*\": {\r\n            let ast1 = ast[1];\r\n            let new_ast1 = [];\r\n            for (let x of ast1) {\r\n                if (typeof x === \"string\") {\r\n                    new_ast1.push(x);\r\n                    new_ast1.push(undefined);\r\n                }\r\n                else {\r\n                    new_ast1.push(x[0]);\r\n                    new_ast1.push(x[1]);\r\n                }\r\n            }\r\n            return compile_ast([\"_\" + ast[0], new_ast1].concat(ast.slice(2)));\r\n        }\r\n        case \"_let\":\r\n        case \"_let*\": {\r\n            let vars = \"(\";\r\n            let vals = \"(\";\r\n            let assigns = \"\";\r\n            for (let i = 0; i < ast[1].length; i++) {\r\n                if (i % 2) {\r\n                    if (i > 1)\r\n                        vars += \",\";\r\n                    vars += ast[1][i - 1];\r\n                    let val = compile_ast(ast[1][i]);\r\n                    if (i > 1)\r\n                        vals += \",\";\r\n                    vals += val;\r\n                    assigns += ast[1][i - 1] + \"=\" + val + \";\";\r\n                }\r\n            }\r\n            vars += \")\";\r\n            vals += \")\";\r\n            if (ast[0] === \"_let\")\r\n                return (\"((function\" +\r\n                    vars +\r\n                    \"{return \" +\r\n                    compile_body(ast, 2) +\r\n                    \"})\" +\r\n                    vals +\r\n                    \")\");\r\n            else\r\n                return (\"((function\" +\r\n                    vars +\r\n                    \"{\" +\r\n                    assigns +\r\n                    \"return \" +\r\n                    compile_body(ast, 2) +\r\n                    \"})())\");\r\n        }\r\n        case \"set!\":\r\n        case \"set\":\r\n            return compile_ast(ast[1]) + \"=\" + compile_ast(ast[2]);\r\n        case \"throw\": {\r\n            return \"(function(){throw \" + compile_ast(ast[1]) + \"})()\";\r\n        }\r\n        case \"try\": {\r\n            let result = \"(function(){try{return \" + compile_ast(ast[1]) + \"}catch(\";\r\n            result += ast[2][1] + \"){return \" + compile_body(ast[2], 2) + \"}\";\r\n            result += \"})()\";\r\n            return result;\r\n        }\r\n        case \"until\":\r\n        case \"while\": {\r\n            let condition = compile_ast(ast[1]);\r\n            if (ast[0] === \"until\")\r\n                condition = \"!\" + condition;\r\n            return (\"((function(){while(\" +\r\n                condition +\r\n                \"){\" +\r\n                compile_body(ast, 2) +\r\n                \"}})(),null)\");\r\n        }\r\n        case \"=\":\r\n            return \"(\" + compile_ast(ast[1]) + \"===\" + compile_ast(ast[2]) + \")\";\r\n        case \"%\":\r\n        case \"==\":\r\n        case \"===\":\r\n        case \"!=\":\r\n        case \"!==\":\r\n        case \"<\":\r\n        case \">\":\r\n        case \"<=\":\r\n        case \">=\":\r\n            return \"(\" + compile_ast(ast[1]) + ast[0] + compile_ast(ast[2]) + \")\";\r\n        case \"+\":\r\n        case \"-\":\r\n        case \"*\":\r\n        case \"/\": {\r\n            return \"(\" + insert_op(ast[0], ast.slice(1)) + \")\";\r\n        }\r\n        default:\r\n            let fcall = compile_ast(ast[0]) + \"(\";\r\n            for (let i = 1; i < ast.length; i++) {\r\n                if (i > 1)\r\n                    fcall += \",\";\r\n                fcall += compile_ast(ast[i]);\r\n            }\r\n            fcall += \")\";\r\n            return fcall;\r\n    }\r\n}\r\nfunction insert_op(op, rest) {\r\n    let result = [compile_ast(rest[0])];\r\n    for (let i = 1; i < rest.length; i++) {\r\n        result.push(op);\r\n        result.push(compile_ast(rest[i]));\r\n    }\r\n    return result.join(\"\");\r\n}\r\nfunction compile_do(ast) {\r\n    let ast1 = ast[1];\r\n    let parallel = ast[0] === \"do\";\r\n    let ast1_len = ast1.length;\r\n    let ast1_vars = [];\r\n    if (parallel) {\r\n        ast1_vars.push(\"__do__\");\r\n        ast1_vars.push([\"@\", \"new Array(\" + ast1_len + \").fill(null)\"]);\r\n    }\r\n    ast1.forEach((x, i) => {\r\n        ast1_vars.push(x[0]);\r\n        ast1_vars.push(x[1]);\r\n    });\r\n    let ast2 = ast[2];\r\n    if (ast2.length < 2)\r\n        ast2 = [ast2[0], null];\r\n    let until_ast = [\"until\", ast2[0]].concat(ast.slice(3));\r\n    if (parallel) {\r\n        ast1.forEach((x, i) => {\r\n            if (x.length < 3)\r\n                return;\r\n            let next_step = [\"set!\", [\"@\", \"__do__[\" + i + \"]\"], x[2]];\r\n            until_ast.push(next_step);\r\n        });\r\n        ast1.forEach((x, i) => {\r\n            if (x.length < 3)\r\n                return;\r\n            let next_step = [\"set!\", x[0], [\"@\", \"__do__[\" + i + \"]\"]];\r\n            until_ast.push(next_step);\r\n        });\r\n    }\r\n    else {\r\n        ast1.forEach((x, i) => {\r\n            if (x.length < 3)\r\n                return;\r\n            let next_step = [\"set!\", x[0], x[2]];\r\n            until_ast.push(next_step);\r\n        });\r\n    }\r\n    let new_ast = [parallel ? \"_let\" : \"_let*\", ast1_vars].concat([until_ast]);\r\n    new_ast.push(ast2[1]);\r\n    return compile_ast(new_ast);\r\n}\r\n//var $comp$ = new Compiler();\r\nfunction optiMAL(toplevel) {\r\n    let glob = Object.create(toplevel);\r\n    glob.compile_ast_d = (ast) => glob.compile_ast(ast, true);\r\n    glob.compile_ast = (ast, debug) => {\r\n        if (debug)\r\n            console.log(\" [AST] \" + JSON.stringify(ast));\r\n        let text = compile_ast(ast);\r\n        if (debug)\r\n            console.log(\"[CODE] \" + text);\r\n        return text;\r\n    };\r\n    glob.compile_d = (text) => glob.compile(text, true);\r\n    glob.compile = (text, debug) => {\r\n        let steps = Object(_code2ary__WEBPACK_IMPORTED_MODULE_0__[\"code2ary\"])(text);\r\n        let result = \"\";\r\n        for (let step of steps) {\r\n            let exp = step[0];\r\n            let ast = step[1];\r\n            if (debug)\r\n                console.log(\"[LIST] \" + exp);\r\n            if (debug)\r\n                console.log(\" [AST] \" + JSON.stringify(ast));\r\n            let text = compile_ast(ast);\r\n            if (debug)\r\n                console.log(\"[CODE] \" + text);\r\n            result += text + \";\\n\";\r\n        }\r\n        return result;\r\n    };\r\n    glob.run = (exp) => glob.exec(exp, true);\r\n    glob.exec_d = (exp) => glob.exec(exp, true);\r\n    glob.exec = (exp, debug) => {\r\n        let src = exp;\r\n        let steps = Object(_code2ary__WEBPACK_IMPORTED_MODULE_0__[\"code2ary\"])(src);\r\n        let last;\r\n        let text = \"\";\r\n        for (let step of steps) {\r\n            let exp = step[0];\r\n            let ast = step[1];\r\n            var tm1 = new Date().getTime();\r\n            try {\r\n                if (debug)\r\n                    console.log(\"[LIST] \" + exp);\r\n                if (debug)\r\n                    console.log(\" [AST] \" + JSON.stringify(ast));\r\n                text = compile_ast(ast);\r\n                if (debug)\r\n                    console.log(\"[CODE] \" + text);\r\n                let val = eval(text);\r\n                last = val;\r\n                let output;\r\n                if (typeof val === \"function\") {\r\n                    output = \"function\";\r\n                }\r\n                else if (!(val instanceof Array) &&\r\n                    val instanceof Object &&\r\n                    Object.prototype.toString.call(val) !== \"[object Object]\") {\r\n                    try {\r\n                        output =\r\n                            Object.prototype.toString.call(val) + \" \" + JSON.stringify(val);\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                else {\r\n                    try {\r\n                        output = JSON.stringify(val);\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                var tm2 = new Date().getTime();\r\n                if (debug) {\r\n                    if (output === undefined) {\r\n                        console.log(\"==> (\" + (tm2 - tm1) + \" ms)\");\r\n                        console.log(val);\r\n                    }\r\n                    else {\r\n                        console.log(\"==> \" + output + \" (\" + (tm2 - tm1) + \" ms)\");\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {\r\n                if (!debug)\r\n                    console.log(\"[LIST] \" + exp);\r\n                if (!debug)\r\n                    console.log(\" [AST] \" + JSON.stringify(ast));\r\n                if (!debug)\r\n                    console.log(\"[CODE] \" + text);\r\n                console.log(\" [EXCEPTION]\");\r\n                if (e.stack)\r\n                    console.log(e.stack);\r\n                else\r\n                    console.log(e);\r\n                throw e;\r\n                break;\r\n            }\r\n        }\r\n        return last;\r\n    };\r\n    glob.compileAll = (exp, debug) => {\r\n        let src = exp;\r\n        let steps = Object(_code2ary__WEBPACK_IMPORTED_MODULE_0__[\"code2ary\"])(src);\r\n        let result = \"\";\r\n        for (let step of steps) {\r\n            let exp = step[0];\r\n            let ast = step[1];\r\n            if (debug)\r\n                console.log(\"[LIST] \" + exp);\r\n            if (debug)\r\n                console.log(\" [AST] \" + JSON.stringify(ast));\r\n            let text = compile_ast(ast);\r\n            if (debug)\r\n                console.log(\"[CODE] \" + text);\r\n            result += text + \";\\n\";\r\n        }\r\n        return result;\r\n    };\r\n    glob.execAll = (exp, debug) => {\r\n        let text = glob.compileAll(exp, debug);\r\n        return eval(text);\r\n    };\r\n    glob.runAll = (exp) => {\r\n        return glob.execAll(exp, true);\r\n    };\r\n    return glob;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb3B0aU1BTDIudHM/OTEyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFFdEMsU0FBUyxZQUFZLENBQUMsR0FBZSxFQUFFLEtBQWE7SUFDbEQsSUFBSSxLQUFLLEtBQUssR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO1FBQUUsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDN0QsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ2pCLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3ZDLElBQUksQ0FBQyxHQUFHLEtBQUs7WUFBRSxNQUFNLElBQUksR0FBRyxDQUFDO1FBQzdCLE1BQU0sSUFBSSxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDL0I7SUFDRCxPQUFPLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDdEIsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFDLEdBQVE7SUFDM0IsSUFBSSxHQUFHLEtBQUssU0FBUztRQUFFLE9BQU8sV0FBVyxDQUFDO0lBQzFDLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDNUI7SUFDRCxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUMzQixJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25ELElBQUksR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUN0QixRQUFRLEdBQUcsRUFBRTtnQkFDWCxLQUFLLE9BQU8sQ0FBQztnQkFDYixLQUFLLE1BQU0sQ0FBQztnQkFDWixLQUFLLElBQUk7b0JB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QUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3hELElBQUksSUFBSSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QixJQUFJLEtBQUs7Z0JBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDekMsTUFBTSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUM7U0FDeEI7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDLENBQUM7SUFDRixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBVyxFQUFFLEtBQWMsRUFBRSxFQUFFO1FBQzdDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLENBQUMsQ0FBQztJQUNGLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFXLEVBQUUsRUFBRTtRQUM1QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUMsQ0FBQztJQUNGLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyIsImZpbGUiOiIuL3NyYy9vcHRpTUFMMi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvZGUyYXJ5IH0gZnJvbSBcIi4vY29kZTJhcnlcIjtcblxuZnVuY3Rpb24gY29tcGlsZV9ib2R5KGFzdDogQXJyYXk8YW55Piwgc3RhcnQ6IG51bWJlcik6IHN0cmluZyB7XG4gIGlmIChzdGFydCA9PT0gYXN0Lmxlbmd0aCAtIDEpIHJldHVybiBjb21waWxlX2FzdChhc3Rbc3RhcnRdKTtcbiAgbGV0IHJlc3VsdCA9IFwiKFwiO1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBhc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA+IHN0YXJ0KSByZXN1bHQgKz0gXCIsXCI7XG4gICAgcmVzdWx0ICs9IGNvbXBpbGVfYXN0KGFzdFtpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdCArIFwiKVwiO1xufVxuXG5mdW5jdGlvbiBjb21waWxlX2FzdChhc3Q6IGFueSk6IHN0cmluZyB7XG4gIGlmIChhc3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gIGlmICghYXN0KSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFzdCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoYXN0Lm1hdGNoKC9eOi4rJC8pKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXN0KTtcbiAgICBpZiAoYXN0Lm1hdGNoKC9eIy4rJC8pKSB7XG4gICAgICBzd2l0Y2ggKGFzdCkge1xuICAgICAgICBjYXNlIFwiI251bGxcIjpcbiAgICAgICAgY2FzZSBcIiNuaWxcIjpcbiAgICAgICAgY2FzZSBcIiNuXCI6XG4gICAgICAgICAgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICBjYXNlIFwiI2ZhbHNlXCI6XG4gICAgICAgIGNhc2UgXCIjZlwiOlxuICAgICAgICAgIHJldHVybiBcImZhbHNlXCI7XG4gICAgICAgIGNhc2UgXCIjdHJ1ZVwiOlxuICAgICAgICBjYXNlIFwiI3RcIjpcbiAgICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XG4gICAgICAgIGNhc2UgXCIjdW5kZWZpbmVkXCI6XG4gICAgICAgIGNhc2UgXCIjdVwiOlxuICAgICAgICAgIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhc3Q7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhc3Q7XG4gIH1cbiAgaWYgKCEoYXN0IGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgcmV0dXJuIGFzdC50b1N0cmluZygpO1xuICB9XG4gIGlmIChhc3QubGVuZ3RoID09PSAwKSByZXR1cm4gXCJbXVwiOyAvL3JldHVybiBhc3Q7XG4gIHN3aXRjaCAoYXN0WzBdKSB7XG4gICAgY2FzZSBcImBcIjpcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhc3RbMV0pO1xuICAgIGNhc2UgXCJAXCI6XG4gICAgICByZXR1cm4gYXN0WzFdO1xuICAgIGNhc2UgXCJiZWdpblwiOlxuICAgIGNhc2UgXCJfZG9cIjpcbiAgICBjYXNlIFwicHJvZ25cIjpcbiAgICAgIHJldHVybiBjb21waWxlX2JvZHkoYXN0LCAxKTtcbiAgICBjYXNlIFwiY2FzZVwiOiB7XG4gICAgICBsZXQgcmVzdWx0ID0gXCIoZnVuY3Rpb24oKXtzd2l0Y2goXCIgKyBjb21waWxlX2FzdChhc3RbMV0pICsgXCIpe1wiO1xuICAgICAgbGV0IHJlc3QgPSBhc3Quc2xpY2UoMik7XG4gICAgICByZXN0LmZvckVhY2goKHgpID0+IHtcbiAgICAgICAgbGV0IHZhbCA9IHhbMF07XG4gICAgICAgIHN3aXRjaCAodmFsKSB7XG4gICAgICAgICAgY2FzZSBcIjplbHNlXCI6XG4gICAgICAgICAgY2FzZSBcImVsc2VcIjpcbiAgICAgICAgICBjYXNlIFwib3RoZXJ3aXNlXCI6XG4gICAgICAgICAgY2FzZSBcIjpvdGhlcndpc2VcIjpcbiAgICAgICAgICAgIHJlc3VsdCArPSBcImRlZmF1bHQ6XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbFswXSA9PT0gXCJgXCIpIHZhbCA9IHZhbFsxXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcImNhc2UgXCIgKyBKU09OLnN0cmluZ2lmeSh2YWwpICsgXCI6XCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJvZHkgPSBjb21waWxlX2JvZHkoeCwgMSk7XG4gICAgICAgIHJlc3VsdCArPSBcInJldHVybiBcIiArIGJvZHkgKyBcIjtcIjtcbiAgICAgIH0pO1xuICAgICAgcmVzdWx0ICs9IFwifXJldHVybiBudWxsfSkoKVwiO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2FzZSBcIl9jb25kXCI6IHtcbiAgICAgIGZ1bmN0aW9uIF9jb25kX2J1aWxkZXIocmVzdDogQXJyYXk8YW55Pik6IGFueSB7XG4gICAgICAgIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBjb25kaXRpb24gPSByZXN0LnNoaWZ0KCk7XG4gICAgICAgIGxldCBhY3Rpb24gPSByZXN0LnNoaWZ0KCk7XG4gICAgICAgIHN3aXRjaCAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgIGNhc2UgXCI6ZWxzZVwiOlxuICAgICAgICAgIGNhc2UgXCJlbHNlXCI6XG4gICAgICAgICAgY2FzZSBcIm90aGVyd2lzZVwiOlxuICAgICAgICAgIGNhc2UgXCI6b3RoZXJ3aXNlXCI6XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXCJpZlwiLCBjb25kaXRpb24sIGFjdGlvbiwgX2NvbmRfYnVpbGRlcihyZXN0KV07XG4gICAgICB9XG4gICAgICBhc3QgPSBfY29uZF9idWlsZGVyKGFzdC5zbGljZSgxKSk7XG4gICAgICByZXR1cm4gY29tcGlsZV9hc3QoYXN0KTtcbiAgICB9XG4gICAgY2FzZSBcImNvbmRcIjoge1xuICAgICAgbGV0IG5ld19hc3QgPSBbXTtcbiAgICAgIGFzdC5zbGljZSgxKS5mb3JFYWNoKCh4KSA9PiB7XG4gICAgICAgIG5ld19hc3QucHVzaCh4WzBdKTtcbiAgICAgICAgbmV3X2FzdC5wdXNoKFtcIl9kb1wiXS5jb25jYXQoeC5zbGljZSgxKSkpO1xuICAgICAgfSk7XG4gICAgICBuZXdfYXN0LnVuc2hpZnQoXCJfY29uZFwiKTtcbiAgICAgIHJldHVybiBjb21waWxlX2FzdChuZXdfYXN0KTtcbiAgICB9XG4gICAgY2FzZSBcImRlYyFcIjpcbiAgICBjYXNlIFwiZGVjXCI6XG4gICAgY2FzZSBcImluYyFcIjpcbiAgICBjYXNlIFwiaW5jXCI6XG4gICAgICBsZXQgc2lnbiA9IGFzdFswXSA9PT0gXCJkZWMhXCIgfHwgYXN0WzBdID09PSBcImRlY1wiID8gXCItXCIgOiBcIitcIjtcbiAgICAgIGxldCB2YWwgPSBhc3QubGVuZ3RoIDwgMyA/IDEgOiBjb21waWxlX2FzdChhc3RbMl0pO1xuICAgICAgcmV0dXJuIGNvbXBpbGVfYXN0KGFzdFsxXSkgKyBzaWduICsgXCI9XCIgKyB2YWw7XG4gICAgY2FzZSBcImRlZlwiOlxuICAgIGNhc2UgXCJkZWYhXCI6IHtcbiAgICAgIGxldCB2ID0gYXN0WzFdO1xuICAgICAgcmV0dXJuIFwidmFyIFwiICsgdiArIFwiPVwiICsgY29tcGlsZV9hc3QoYXN0WzJdKTtcbiAgICB9XG4gICAgY2FzZSBcInNldCFcIjoge1xuICAgICAgbGV0IHYgPSBhc3RbMV07XG4gICAgICByZXR1cm4gdiArIFwiPVwiICsgY29tcGlsZV9hc3QoYXN0WzJdKTtcbiAgICB9XG4gICAgY2FzZSBcImRlZmluZVwiOiB7XG4gICAgICBpZiAoYXN0WzFdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgbGV0IG5ld19hc3QgPSBhc3Quc2xpY2UoMik7XG4gICAgICAgIG5ld19hc3QudW5zaGlmdChhc3RbMV0uc2xpY2UoMSkpO1xuICAgICAgICBuZXdfYXN0LnVuc2hpZnQoXCJmblwiKTtcbiAgICAgICAgbmV3X2FzdCA9IFtcImRlZlwiLCBhc3RbMV1bMF0sIG5ld19hc3RdO1xuICAgICAgICByZXR1cm4gY29tcGlsZV9hc3QobmV3X2FzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcGlsZV9hc3QoW1wiZGVmXCIsIGFzdFsxXSwgYXN0WzJdXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJkb1wiOlxuICAgIGNhc2UgXCJkbypcIjpcbiAgICAgIHJldHVybiBjb21waWxlX2RvKGFzdCk7XG4gICAgY2FzZSBcImZuXCI6XG4gICAgY2FzZSBcImZuKlwiOlxuICAgIGNhc2UgXCJsYW1iZGFcIjoge1xuICAgICAgbGV0IGFyZ3MgPSBcIihcIjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0WzFdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkgYXJncyArPSBcIixcIjtcbiAgICAgICAgYXJncyArPSBhc3RbMV1baV07XG4gICAgICB9XG4gICAgICBhcmdzICs9IFwiKVwiO1xuICAgICAgaWYgKGFzdC5sZW5ndGggPCAzKSByZXR1cm4gXCJmdW5jdGlvblwiICsgYXJncyArIFwie31cIjtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgKyBhcmdzICsgXCJ7cmV0dXJuIFwiICsgY29tcGlsZV9ib2R5KGFzdCwgMikgKyBcIn1cIjtcbiAgICB9XG4gICAgY2FzZSBcImRvdGltZXNcIjoge1xuICAgICAgbGV0IGFzdDEgPSBhc3RbMV07XG4gICAgICBpZiAoYXN0MS5sZW5ndGggPCAyKSBhc3QxID0gW1wiX19kb3RpbWVzX19cIiwgYXN0MVswXV07XG4gICAgICBsZXQgYmluZCA9IFtcbiAgICAgICAgW1wiX19kb3RpbWVzX2NudF9fXCIsIGFzdDFbMV1dLFxuICAgICAgICBbXCJfX2RvdGltZXNfaWR4X19cIiwgMCwgW1wiK1wiLCBcIl9fZG90aW1lc19pZHhfX1wiLCAxXV0sXG4gICAgICAgIFthc3QxWzBdLCBcIl9fZG90aW1lc19pZHhfX1wiLCBcIl9fZG90aW1lc19pZHhfX1wiXSxcbiAgICAgIF07XG4gICAgICBsZXQgZXhpdCA9IFtbXCI+PVwiLCBcIl9fZG90aW1lc19pZHhfX1wiLCBcIl9fZG90aW1lc19jbnRfX1wiXV07XG4gICAgICBhc3QgPSBbXCJkbypcIiwgYmluZCwgZXhpdF0uY29uY2F0KGFzdC5zbGljZSgyKSk7XG4gICAgICByZXR1cm4gY29tcGlsZV9hc3QoYXN0KTtcbiAgICB9XG4gICAgY2FzZSBcImlmXCI6XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIihcIiArXG4gICAgICAgIGNvbXBpbGVfYXN0KGFzdFsxXSkgK1xuICAgICAgICBcIj9cIiArXG4gICAgICAgIGNvbXBpbGVfYXN0KGFzdFsyXSkgK1xuICAgICAgICBcIjpcIiArXG4gICAgICAgIGNvbXBpbGVfYm9keShhc3QsIDMpICtcbiAgICAgICAgXCIpXCJcbiAgICAgICk7XG4gICAgY2FzZSBcImxldFwiOlxuICAgIGNhc2UgXCJsZXQqXCI6IHtcbiAgICAgIGxldCBhc3QxID0gYXN0WzFdO1xuICAgICAgbGV0IG5ld19hc3QxID0gW107XG4gICAgICBmb3IgKGxldCB4IG9mIGFzdDEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgbmV3X2FzdDEucHVzaCh4KTtcbiAgICAgICAgICBuZXdfYXN0MS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3X2FzdDEucHVzaCh4WzBdKTtcbiAgICAgICAgICBuZXdfYXN0MS5wdXNoKHhbMV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tcGlsZV9hc3QoW1wiX1wiICsgYXN0WzBdLCBuZXdfYXN0MV0uY29uY2F0KGFzdC5zbGljZSgyKSkpO1xuICAgIH1cbiAgICBjYXNlIFwiX2xldFwiOlxuICAgIGNhc2UgXCJfbGV0KlwiOiB7XG4gICAgICBsZXQgdmFycyA9IFwiKFwiO1xuICAgICAgbGV0IHZhbHMgPSBcIihcIjtcbiAgICAgIGxldCBhc3NpZ25zID0gXCJcIjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0WzFdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpICUgMikge1xuICAgICAgICAgIGlmIChpID4gMSkgdmFycyArPSBcIixcIjtcbiAgICAgICAgICB2YXJzICs9IGFzdFsxXVtpIC0gMV07XG4gICAgICAgICAgbGV0IHZhbCA9IGNvbXBpbGVfYXN0KGFzdFsxXVtpXSk7XG4gICAgICAgICAgaWYgKGkgPiAxKSB2YWxzICs9IFwiLFwiO1xuICAgICAgICAgIHZhbHMgKz0gdmFsO1xuICAgICAgICAgIGFzc2lnbnMgKz0gYXN0WzFdW2kgLSAxXSArIFwiPVwiICsgdmFsICsgXCI7XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhcnMgKz0gXCIpXCI7XG4gICAgICB2YWxzICs9IFwiKVwiO1xuICAgICAgaWYgKGFzdFswXSA9PT0gXCJfbGV0XCIpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgXCIoKGZ1bmN0aW9uXCIgK1xuICAgICAgICAgIHZhcnMgK1xuICAgICAgICAgIFwie3JldHVybiBcIiArXG4gICAgICAgICAgY29tcGlsZV9ib2R5KGFzdCwgMikgK1xuICAgICAgICAgIFwifSlcIiArXG4gICAgICAgICAgdmFscyArXG4gICAgICAgICAgXCIpXCJcbiAgICAgICAgKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBcIigoZnVuY3Rpb25cIiArXG4gICAgICAgICAgdmFycyArXG4gICAgICAgICAgXCJ7XCIgK1xuICAgICAgICAgIGFzc2lnbnMgK1xuICAgICAgICAgIFwicmV0dXJuIFwiICtcbiAgICAgICAgICBjb21waWxlX2JvZHkoYXN0LCAyKSArXG4gICAgICAgICAgXCJ9KSgpKVwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGNhc2UgXCJzZXQhXCI6XG4gICAgY2FzZSBcInNldFwiOlxuICAgICAgcmV0dXJuIGNvbXBpbGVfYXN0KGFzdFsxXSkgKyBcIj1cIiArIGNvbXBpbGVfYXN0KGFzdFsyXSk7XG4gICAgY2FzZSBcInRocm93XCI6IHtcbiAgICAgIHJldHVybiBcIihmdW5jdGlvbigpe3Rocm93IFwiICsgY29tcGlsZV9hc3QoYXN0WzFdKSArIFwifSkoKVwiO1xuICAgIH1cbiAgICBjYXNlIFwidHJ5XCI6IHtcbiAgICAgIGxldCByZXN1bHQgPSBcIihmdW5jdGlvbigpe3RyeXtyZXR1cm4gXCIgKyBjb21waWxlX2FzdChhc3RbMV0pICsgXCJ9Y2F0Y2goXCI7XG4gICAgICByZXN1bHQgKz0gYXN0WzJdWzFdICsgXCIpe3JldHVybiBcIiArIGNvbXBpbGVfYm9keShhc3RbMl0sIDIpICsgXCJ9XCI7XG4gICAgICByZXN1bHQgKz0gXCJ9KSgpXCI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXNlIFwidW50aWxcIjpcbiAgICBjYXNlIFwid2hpbGVcIjoge1xuICAgICAgbGV0IGNvbmRpdGlvbiA9IGNvbXBpbGVfYXN0KGFzdFsxXSk7XG4gICAgICBpZiAoYXN0WzBdID09PSBcInVudGlsXCIpIGNvbmRpdGlvbiA9IFwiIVwiICsgY29uZGl0aW9uO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIoKGZ1bmN0aW9uKCl7d2hpbGUoXCIgK1xuICAgICAgICBjb25kaXRpb24gK1xuICAgICAgICBcIil7XCIgK1xuICAgICAgICBjb21waWxlX2JvZHkoYXN0LCAyKSArXG4gICAgICAgIFwifX0pKCksbnVsbClcIlxuICAgICAgKTtcbiAgICB9XG4gICAgY2FzZSBcIj1cIjpcbiAgICAgIHJldHVybiBcIihcIiArIGNvbXBpbGVfYXN0KGFzdFsxXSkgKyBcIj09PVwiICsgY29tcGlsZV9hc3QoYXN0WzJdKSArIFwiKVwiO1xuICAgIGNhc2UgXCIlXCI6XG4gICAgY2FzZSBcIj09XCI6XG4gICAgY2FzZSBcIj09PVwiOlxuICAgIGNhc2UgXCIhPVwiOlxuICAgIGNhc2UgXCIhPT1cIjpcbiAgICBjYXNlIFwiPFwiOlxuICAgIGNhc2UgXCI+XCI6XG4gICAgY2FzZSBcIjw9XCI6XG4gICAgY2FzZSBcIj49XCI6XG4gICAgICByZXR1cm4gXCIoXCIgKyBjb21waWxlX2FzdChhc3RbMV0pICsgYXN0WzBdICsgY29tcGlsZV9hc3QoYXN0WzJdKSArIFwiKVwiO1xuICAgIGNhc2UgXCIrXCI6XG4gICAgY2FzZSBcIi1cIjpcbiAgICBjYXNlIFwiKlwiOlxuICAgIGNhc2UgXCIvXCI6IHtcbiAgICAgIHJldHVybiBcIihcIiArIGluc2VydF9vcChhc3RbMF0sIGFzdC5zbGljZSgxKSkgKyBcIilcIjtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIGxldCBmY2FsbCA9IGNvbXBpbGVfYXN0KGFzdFswXSkgKyBcIihcIjtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMSkgZmNhbGwgKz0gXCIsXCI7XG4gICAgICAgIGZjYWxsICs9IGNvbXBpbGVfYXN0KGFzdFtpXSk7XG4gICAgICB9XG4gICAgICBmY2FsbCArPSBcIilcIjtcbiAgICAgIHJldHVybiBmY2FsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnRfb3Aob3A6IHN0cmluZywgcmVzdDogQXJyYXk8YW55Pikge1xuICBsZXQgcmVzdWx0ID0gW2NvbXBpbGVfYXN0KHJlc3RbMF0pXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0LnB1c2gob3ApO1xuICAgIHJlc3VsdC5wdXNoKGNvbXBpbGVfYXN0KHJlc3RbaV0pKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIGNvbXBpbGVfZG8oYXN0OiBhbnkpOiBzdHJpbmcge1xuICBsZXQgYXN0MSA9IGFzdFsxXTtcbiAgbGV0IHBhcmFsbGVsID0gYXN0WzBdID09PSBcImRvXCI7XG4gIGxldCBhc3QxX2xlbiA9IGFzdDEubGVuZ3RoO1xuICBsZXQgYXN0MV92YXJzID0gW107XG4gIGlmIChwYXJhbGxlbCkge1xuICAgIGFzdDFfdmFycy5wdXNoKFwiX19kb19fXCIpO1xuICAgIGFzdDFfdmFycy5wdXNoKFtcIkBcIiwgXCJuZXcgQXJyYXkoXCIgKyBhc3QxX2xlbiArIFwiKS5maWxsKG51bGwpXCJdKTtcbiAgfVxuICBhc3QxLmZvckVhY2goKHg6IGFueSwgaTogbnVtYmVyKSA9PiB7XG4gICAgYXN0MV92YXJzLnB1c2goeFswXSk7XG4gICAgYXN0MV92YXJzLnB1c2goeFsxXSk7XG4gIH0pO1xuICBsZXQgYXN0MiA9IGFzdFsyXTtcbiAgaWYgKGFzdDIubGVuZ3RoIDwgMikgYXN0MiA9IFthc3QyWzBdLCBudWxsXTtcbiAgbGV0IHVudGlsX2FzdCA9IFtcInVudGlsXCIsIGFzdDJbMF1dLmNvbmNhdChhc3Quc2xpY2UoMykpO1xuICBpZiAocGFyYWxsZWwpIHtcbiAgICBhc3QxLmZvckVhY2goKHg6IGFueSwgaTogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoeC5sZW5ndGggPCAzKSByZXR1cm47XG4gICAgICBsZXQgbmV4dF9zdGVwID0gW1wic2V0IVwiLCBbXCJAXCIsIFwiX19kb19fW1wiICsgaSArIFwiXVwiXSwgeFsyXV07XG4gICAgICB1bnRpbF9hc3QucHVzaChuZXh0X3N0ZXApO1xuICAgIH0pO1xuICAgIGFzdDEuZm9yRWFjaCgoeDogYW55LCBpOiBudW1iZXIpID0+IHtcbiAgICAgIGlmICh4Lmxlbmd0aCA8IDMpIHJldHVybjtcbiAgICAgIGxldCBuZXh0X3N0ZXAgPSBbXCJzZXQhXCIsIHhbMF0sIFtcIkBcIiwgXCJfX2RvX19bXCIgKyBpICsgXCJdXCJdXTtcbiAgICAgIHVudGlsX2FzdC5wdXNoKG5leHRfc3RlcCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXN0MS5mb3JFYWNoKCh4OiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKHgubGVuZ3RoIDwgMykgcmV0dXJuO1xuICAgICAgbGV0IG5leHRfc3RlcCA9IFtcInNldCFcIiwgeFswXSwgeFsyXV07XG4gICAgICB1bnRpbF9hc3QucHVzaChuZXh0X3N0ZXApO1xuICAgIH0pO1xuICB9XG4gIGxldCBuZXdfYXN0ID0gW3BhcmFsbGVsID8gXCJfbGV0XCIgOiBcIl9sZXQqXCIsIGFzdDFfdmFyc10uY29uY2F0KFt1bnRpbF9hc3RdKTtcbiAgbmV3X2FzdC5wdXNoKGFzdDJbMV0pO1xuICByZXR1cm4gY29tcGlsZV9hc3QobmV3X2FzdCk7XG59XG5cbi8vdmFyICRjb21wJCA9IG5ldyBDb21waWxlcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gb3B0aU1BTCh0b3BsZXZlbDogYW55KSB7XG4gIGxldCBnbG9iID0gT2JqZWN0LmNyZWF0ZSh0b3BsZXZlbCk7XG4gIGdsb2IuY29tcGlsZV9hc3RfZCA9IChhc3Q6IGFueSkgPT4gZ2xvYi5jb21waWxlX2FzdChhc3QsIHRydWUpO1xuICBnbG9iLmNvbXBpbGVfYXN0ID0gKGFzdDogYW55LCBkZWJ1ZzogYm9vbGVhbikgPT4ge1xuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCIgW0FTVF0gXCIgKyBKU09OLnN0cmluZ2lmeShhc3QpKTtcbiAgICBsZXQgdGV4dCA9IGNvbXBpbGVfYXN0KGFzdCk7XG4gICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIltDT0RFXSBcIiArIHRleHQpO1xuICAgIHJldHVybiB0ZXh0O1xuICB9O1xuICBnbG9iLmNvbXBpbGVfZCA9ICh0ZXh0OiBzdHJpbmcpID0+IGdsb2IuY29tcGlsZSh0ZXh0LCB0cnVlKTtcbiAgZ2xvYi5jb21waWxlID0gKHRleHQ6IHN0cmluZywgZGVidWc6IGJvb2xlYW4pID0+IHtcbiAgICBsZXQgc3RlcHMgPSBjb2RlMmFyeSh0ZXh0KTtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBzdGVwIG9mIHN0ZXBzKSB7XG4gICAgICBsZXQgZXhwID0gc3RlcFswXTtcbiAgICAgIGxldCBhc3QgPSBzdGVwWzFdO1xuICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIltMSVNUXSBcIiArIGV4cCk7XG4gICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwiIFtBU1RdIFwiICsgSlNPTi5zdHJpbmdpZnkoYXN0KSk7XG4gICAgICBsZXQgdGV4dCA9IGNvbXBpbGVfYXN0KGFzdCk7XG4gICAgICBpZiAoZGVidWcpIGNvbnNvbGUubG9nKFwiW0NPREVdIFwiICsgdGV4dCk7XG4gICAgICByZXN1bHQgKz0gdGV4dCArIFwiO1xcblwiO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBnbG9iLnJ1biA9IChleHA6IHN0cmluZykgPT4gZ2xvYi5leGVjKGV4cCwgdHJ1ZSk7XG4gIGdsb2IuZXhlY19kID0gKGV4cDogc3RyaW5nKSA9PiBnbG9iLmV4ZWMoZXhwLCB0cnVlKTtcbiAgZ2xvYi5leGVjID0gKGV4cDogc3RyaW5nLCBkZWJ1ZzogYm9vbGVhbikgPT4ge1xuICAgIGxldCBzcmMgPSBleHA7XG4gICAgbGV0IHN0ZXBzID0gY29kZTJhcnkoc3JjKTtcbiAgICBsZXQgbGFzdDtcbiAgICBsZXQgdGV4dDogc3RyaW5nID0gXCJcIjtcbiAgICBmb3IgKGxldCBzdGVwIG9mIHN0ZXBzKSB7XG4gICAgICBsZXQgZXhwID0gc3RlcFswXTtcbiAgICAgIGxldCBhc3QgPSBzdGVwWzFdO1xuICAgICAgdmFyIHRtMSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIltMSVNUXSBcIiArIGV4cCk7XG4gICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCIgW0FTVF0gXCIgKyBKU09OLnN0cmluZ2lmeShhc3QpKTtcbiAgICAgICAgdGV4dCA9IGNvbXBpbGVfYXN0KGFzdCk7XG4gICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJbQ09ERV0gXCIgKyB0ZXh0KTtcbiAgICAgICAgbGV0IHZhbCA9IGV2YWwodGV4dCk7XG4gICAgICAgIGxhc3QgPSB2YWw7XG4gICAgICAgIGxldCBvdXRwdXQ7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBvdXRwdXQgPSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgISh2YWwgaW5zdGFuY2VvZiBBcnJheSkgJiZcbiAgICAgICAgICB2YWwgaW5zdGFuY2VvZiBPYmplY3QgJiZcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIlxuICAgICAgICApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID1cbiAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgKyBcIiBcIiArIEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0ID0gSlNPTi5zdHJpbmdpZnkodmFsKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG4gICAgICAgIHZhciB0bTIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgaWYgKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PiAoXCIgKyAodG0yIC0gdG0xKSArIFwiIG1zKVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT0+IFwiICsgb3V0cHV0ICsgXCIgKFwiICsgKHRtMiAtIHRtMSkgKyBcIiBtcylcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgaWYgKCFkZWJ1ZykgY29uc29sZS5sb2coXCJbTElTVF0gXCIgKyBleHApO1xuICAgICAgICBpZiAoIWRlYnVnKSBjb25zb2xlLmxvZyhcIiBbQVNUXSBcIiArIEpTT04uc3RyaW5naWZ5KGFzdCkpO1xuICAgICAgICBpZiAoIWRlYnVnKSBjb25zb2xlLmxvZyhcIltDT0RFXSBcIiArIHRleHQpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIiBbRVhDRVBUSU9OXVwiKTtcbiAgICAgICAgaWYgKGUuc3RhY2spIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgICAgICBlbHNlIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxhc3Q7XG4gIH07XG4gIGdsb2IuY29tcGlsZUFsbCA9IChleHA6IHN0cmluZywgZGVidWc6IGJvb2xlYW4pID0+IHtcbiAgICBsZXQgc3JjID0gZXhwO1xuICAgIGxldCBzdGVwcyA9IGNvZGUyYXJ5KHNyYyk7XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgZm9yIChsZXQgc3RlcCBvZiBzdGVwcykge1xuICAgICAgbGV0IGV4cCA9IHN0ZXBbMF07XG4gICAgICBsZXQgYXN0ID0gc3RlcFsxXTtcbiAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coXCJbTElTVF0gXCIgKyBleHApO1xuICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIiBbQVNUXSBcIiArIEpTT04uc3RyaW5naWZ5KGFzdCkpO1xuICAgICAgbGV0IHRleHQgPSBjb21waWxlX2FzdChhc3QpO1xuICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZyhcIltDT0RFXSBcIiArIHRleHQpO1xuICAgICAgcmVzdWx0ICs9IHRleHQgKyBcIjtcXG5cIjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgZ2xvYi5leGVjQWxsID0gKGV4cDogc3RyaW5nLCBkZWJ1ZzogYm9vbGVhbikgPT4ge1xuICAgIGxldCB0ZXh0ID0gZ2xvYi5jb21waWxlQWxsKGV4cCwgZGVidWcpO1xuICAgIHJldHVybiBldmFsKHRleHQpO1xuICB9O1xuICBnbG9iLnJ1bkFsbCA9IChleHA6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBnbG9iLmV4ZWNBbGwoZXhwLCB0cnVlKTtcbiAgfTtcbiAgcmV0dXJuIGdsb2I7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/optiMAL2.ts\n");

/***/ })

/******/ });